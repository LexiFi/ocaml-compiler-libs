(library
 ((name        ocaml_bytecomp)
  (public_name ocaml-compiler-libs.bytecomp)
  (libraries (compiler-libs.bytecomp))
  (js_of_ocaml ())
  (preprocess no_preprocessing)))

(rule
 ((targets (ocaml_bytecomp.ml))
  (deps    (../gen/gen.exe))
  (action  (run ${<}
            -archive ${ocaml_where}/compiler-libs/ocamlbytecomp.cma
            -o ${@}))))
